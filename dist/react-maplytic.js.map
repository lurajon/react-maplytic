{"version":3,"file":"react-maplytic.js","sources":["../src/connection.js","../src/Flow.js","../src/useForm.js","../src/Login.js"],"sourcesContent":["import axios from \"axios\";\n\n// Maplytic replaces the placeholder with its own address\nexport const connection = axios.create({\n    baseURL: 'https://lurajon.maplytic.no/',\n});","import React, { useState, useEffect } from 'react'\nimport { connection } from './connection';\n\nconst Flow = () => {\n    const [flows, setFlows] = useState();\n\n    useEffect(() => {\n        const fetchFlows = () => {\n            connection.get(\"/flow\")\n                .then(response => {\n                    setFlows({ jobs: response })\n                })\n                .catch(error => {\n                    console.log(error);\n                })\n        }\n\n        fetchFlows();\n    })\n\n    return (\n        <div>\n            <h3>Flows</h3>\n            <ul>\n                {flows && flows.map(flow => {\n                    return (<li key={flow.id}>{flow.name}</li>)\n                })}\n            </ul>\n        </div>\n    )\n}\n\nexport default Flow;","import { useState } from 'react';\n\nexport const useForm = (callback) => {\n\n    const [values, setValues] = useState({});\n\n    const handleSubmit = (event) => {\n        if (event) event.preventDefault();\n        callback();\n    };\n\n    const handleChange = (event) => {\n        event.persist();\n        setValues(values => ({ ...values, [event.target.name]: event.target.value }));\n    };\n\n    return {\n        handleChange,\n        handleSubmit,\n        values,\n    }\n};\n","import React from 'react'\nimport { connection } from './connection';\nimport { useForm } from './useForm';\n\nconst Login = (props) => {\n    const storageKey = props && props.tokenKey || 'maplytic.token';\n\n    const login = () => {\n        var bodyFormData = new FormData();\n\n        bodyFormData.set('username', values.username);\n        bodyFormData.set('password', values.password);\n        console.log(bodyFormData);\n\n        connection.post('/login', `username=${values.username}&password=${values.password}`, { headers: { 'content-type': 'application/x-www-form-urlencoded;charset=utf-8' } })\n            .then((response) => {\n                console.log(response.headers);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n\n    }\n    const { values, handleChange, handleSubmit } = useForm(login);\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <label>Username</label>\n                <input type=\"text\" name=\"username\" value={values.username} onChange={handleChange} />\n            </div>\n            <div>\n                <label>Password</label>\n                <input type=\"password\" name=\"password\" value={values.password} onChange={handleChange} />\n            </div>\n            <div>\n                <button type=\"submit\">Login</button>\n            </div>\n        </form>\n    )\n\n}\n\nexport default Login;"],"names":["connection","axios","create","Flow","useState","flows","setFlows","fetchFlows","get","then","jobs","response","catch","log","error","React","map","flow","id","name","useForm","callback","values","setValues","handleSubmit","event","preventDefault","handleChange","persist","target","value","Login","props","storageKey","tokenKey","login","bodyFormData","FormData","set","username","password","post","headers"],"mappings":";;;;;;;;;AAEA;AACA,AAAO,IAAMA,aAAaC,MAAMC,MAAN,CAAa;aAC1B;CADa,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAP,IAAMC,OAAO,SAAPA,IAAO,GAAM;oBACWC,gBADX;;QACRC,KADQ;QACDC,QADC;;oBAGL,YAAM;YACNC,aAAa,SAAbA,UAAa,GAAM;uBACVC,GAAX,CAAe,OAAf,EACKC,IADL,CACU,oBAAY;yBACL,EAAEC,MAAMC,QAAR,EAAT;aAFR,EAIKC,KAJL,CAIW,iBAAS;wBACJC,GAAR,CAAYC,KAAZ;aALR;SADJ;;;KADJ;;WAeIC;;;;;;;SAAA;;;;qBAGkBV,MAAMW,GAAN,CAAU,gBAAQ;uBAChBD;;sBAAI,KAAKE,KAAKC,EAAd;yBAAwBC;iBAAhC;aADM;;KAJtB;CAjBJ;;ICDaC,UAAU,SAAVA,OAAU,CAACC,QAAD,EAAc;oBAELjB,eAAS,EAAT,CAFK;;QAE1BkB,MAF0B;QAElBC,SAFkB;;QAI3BC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;YACxBA,KAAJ,EAAWA,MAAMC,cAAN;;KADf;;QAKMC,eAAe,SAAfA,YAAe,CAACF,KAAD,EAAW;cACtBG,OAAN;kBACU;gCAAgBN,MAAhB,qBAAyBG,MAAMI,MAAN,CAAaV,IAAtC,EAA6CM,MAAMI,MAAN,CAAaC,KAA1D;SAAV;KAFJ;;WAKO;kCAAA;kCAAA;;KAAP;CAdG;;ACEP,IAAMC,QAAQ,SAARA,KAAQ,CAACC,KAAD,EAAW;QACfC,aAAaD,SAASA,MAAME,QAAf,IAA2B,gBAA9C;;QAEMC,QAAQ,SAARA,KAAQ,GAAM;YACZC,eAAe,IAAIC,QAAJ,EAAnB;;qBAEaC,GAAb,CAAiB,UAAjB,EAA6BhB,OAAOiB,QAApC;qBACaD,GAAb,CAAiB,UAAjB,EAA6BhB,OAAOkB,QAApC;gBACQ3B,GAAR,CAAYuB,YAAZ;;mBAEWK,IAAX,CAAgB,QAAhB,gBAAsCnB,OAAOiB,QAA7C,kBAAkEjB,OAAOkB,QAAzE,EAAqF,EAAEE,SAAS,EAAE,gBAAgB,iDAAlB,EAAX,EAArF,EACKjC,IADL,CACU,UAACE,QAAD,EAAc;oBACRE,GAAR,CAAYF,SAAS+B,OAArB;SAFR,EAIK9B,KAJL,CAIW,UAACE,KAAD,EAAW;oBACND,GAAR,CAAYC,KAAZ;SALR;KAPJ;;mBAiB+CM,QAAQe,KAAR,CApB1B;QAoBbb,MApBa,YAoBbA,MApBa;QAoBLK,YApBK,YAoBLA,YApBK;QAoBSH,YApBT,YAoBSA,YApBT;;WAuBjBT;;UAAM,UAAUS,YAAhB;;;;;;;;aACI;oDAEW,MAAK,MAAZ,EAAmB,MAAK,UAAxB,EAAmC,OAAOF,OAAOiB,QAAjD,EAA2D,UAAUZ,YAArE;SAHR;;;;;;;;aAKI;oDAEW,MAAK,UAAZ,EAAuB,MAAK,UAA5B,EAAuC,OAAOL,OAAOkB,QAArD,EAA+D,UAAUb,YAAzE;SAPR;;;;;;kBAUgB,MAAK,QAAb;;;;KAXZ;CAtBJ;;;;;;;;;;;;;;"}